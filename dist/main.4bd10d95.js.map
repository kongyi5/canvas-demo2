{"version":3,"sources":["main.js"],"names":["yyy","document","getElementById","ctx","getContext","lineWidth","autoSetCanvasSize","listenToUser","eraserEnabled","drawCircle","x","y","radius","beginPath","arc","Math","PI","fill","drawLine","x1","y1","x2","y2","moveTo","lineTo","stroke","closePath","canvas","setCanvasSize","pageWidth","documentElement","clientWidth","pageHeight","clientHeight","width","height","window","onresize","using","lastPoint","undefined","body","ontouchstart","a","touches","clientX","clientY","clearRect","ontouchmove","newPoint","ontouchend","onmousedown","onmousemove","onmouseup","pen","onclick","classList","add","eraser","remove","clear","download","url","toDataURL","createElement","appendChild","href","target","click","black","strokeStyle","red","green","blue","thin","thick"],"mappings":"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","file":"main.4bd10d95.js","sourceRoot":"..\\src","sourcesContent":["var yyy = document.getElementById(\"xxx\");\nvar ctx = yyy.getContext(\"2d\");\nvar lineWidth = 3;\n\nautoSetCanvasSize(yyy);\nlistenToUser(yyy);\n\nvar eraserEnabled = false;\npen.onclick = () => {\n  eraserEnabled = false;\n  pen.classList.add(\"active\");\n  eraser.classList.remove(\"active\");\n  clear.classList.remove(\"active\");\n};\neraser.onclick = () => {\n  eraserEnabled = true;\n  eraser.classList.add(\"active\");\n  pen.classList.remove(\"active\");\n  clear.classList.remove(\"active\");\n};\nclear.onclick = () => {\n  clear.classList.add(\"active\");\n  eraser.classList.remove(\"active\");\n  pen.classList.remove(\"active\");\n  ctx.clearRect(0, 0, yyy.width, yyy.height);\n};\ndownload.onclick = () => {\n  var url = yyy.toDataURL(\"image/png\");\n  var a = document.createElement(\"a\");\n  document.body.appendChild(a);\n  a.href = url;\n  a.download = \"我的画\";\n  a.target = \"_blank\";\n  a.click();\n};\n\nblack.onclick = () => {\n  ctx.strokeStyle = \"black\";\n  black.classList.add(\"active\");\n  red.classList.remove(\"active\");\n  green.classList.remove(\"active\");\n  blue.classList.remove(\"active\");\n};\nred.onclick = () => {\n  ctx.strokeStyle = \"red\";\n  red.classList.add(\"active\");\n  black.classList.remove(\"active\");\n  green.classList.remove(\"active\");\n  blue.classList.remove(\"active\");\n};\ngreen.onclick = () => {\n  ctx.strokeStyle = \"green\";\n  green.classList.add(\"active\");\n  black.classList.remove(\"active\");\n  red.classList.remove(\"active\");\n  blue.classList.remove(\"active\");\n};\nblue.onclick = () => {\n  ctx.strokeStyle = \"blue\";\n  blue.classList.add(\"active\");\n  black.classList.remove(\"active\");\n  red.classList.remove(\"active\");\n  green.classList.remove(\"active\");\n};\n\nthin.onclick = () => {\n  lineWidth = 3;\n};\nthick.onclick = () => {\n  lineWidth = 6;\n};\n\n/** 函数库 **/\nfunction drawCircle(x, y, radius) {\n  ctx.beginPath();\n  ctx.arc(x, y, radius, 0, Math.PI * 2);\n  ctx.fill();\n}\n\nfunction drawLine(x1, y1, x2, y2) {\n  ctx.beginPath();\n  ctx.lineWidth = lineWidth;\n  ctx.moveTo(x1, y1); // 起点\n  ctx.lineTo(x2, y2); // 终点\n  ctx.stroke();\n  ctx.closePath();\n}\n\nfunction autoSetCanvasSize(canvas) {\n  setCanvasSize();\n  window.onresize = () => {\n    setCanvasSize();\n  };\n  function setCanvasSize() {\n    var pageWidth = document.documentElement.clientWidth;\n    var pageHeight = document.documentElement.clientHeight;\n    canvas.width = pageWidth;\n    canvas.height = pageHeight;\n  }\n}\n\nfunction listenToUser(canvas) {\n  var using = false;\n  var lastPoint = {\n    x: undefined,\n    y: undefined,\n  };\n  // 特性检测\n  if (document.body.ontouchstart !== undefined) {\n    // 触屏设备\n    canvas.ontouchstart = (a) => {\n      var x = a.touches[0].clientX;\n      var y = a.touches[0].clientY;\n      // 相对于视口的位置\n      using = true;\n      if (eraserEnabled) {\n        ctx.clearRect(x - 5, y - 5, 10, 10);\n      } else {\n        lastPoint = {\n          x: x,\n          y: y,\n        };\n      }\n    };\n    canvas.ontouchmove = (a) => {\n      var x = a.touches[0].clientX;\n      var y = a.touches[0].clientY;\n      // 相对于视口的位置\n      if (!using) {\n        return;\n      }\n      if (eraserEnabled) {\n        ctx.clearRect(x - 5, y - 5, 10, 10);\n      } else {\n        var newPoint = {\n          x: x,\n          y: y,\n        };\n        drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\n        lastPoint = newPoint;\n      }\n    };\n    canvas.ontouchend = () => {\n      using = false;\n    };\n  } else {\n    // 非触屏设备\n    canvas.onmousedown = (a) => {\n      var x = a.clientX;\n      var y = a.clientY;\n      // 相对于视口的位置\n      using = true;\n      if (eraserEnabled) {\n        ctx.clearRect(x - 5, y - 5, 10, 10);\n      } else {\n        lastPoint = {\n          x: x,\n          y: y,\n        };\n      }\n    };\n    canvas.onmousemove = (a) => {\n      var x = a.clientX;\n      var y = a.clientY;\n      // 相对于视口的位置\n      if (!using) {\n        return;\n      }\n      if (eraserEnabled) {\n        ctx.clearRect(x - 5, y - 5, 10, 10);\n      } else {\n        var newPoint = {\n          x: x,\n          y: y,\n        };\n        drawLine(lastPoint.x, lastPoint.y, newPoint.x, newPoint.y);\n        lastPoint = newPoint;\n      }\n    };\n    canvas.onmouseup = (a) => {\n      using = false;\n    };\n  }\n}\n"]}